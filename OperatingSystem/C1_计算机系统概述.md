# 计算机系统概述

## 基本概念

![image-20210725213645322](Images/image-20210725213645322.png)

![image-20210725212851902](Images/image-20210725212851902.png)

### 功能和目标

![image-20210725212956923](Images/image-20210725212956923.png)

![image-20210725213013013](Images/image-20210725213013013.png)

![image-20210725213756491](Images/image-20210725213756491.png)

![image-20210725213723136](Images/image-20210725213723136.png)



## 特征

![image-20210725212721661](Images/image-20210725212721661.png)

## 发展与分类

![image-20210725214747742](Images/image-20210725214747742.png)

### 手工操作阶段

![image-20210725214908874](Images/image-20210725214908874.png)

### 批处理阶段-单道批处理

![image-20210725215022248](Images/image-20210725215022248.png)

### 批处理阶段-多道批处理

![image-20210725215059455](Images/image-20210725215059455.png)

### 分时操作系统

![image-20210725215136311](Images/image-20210725215136311.png)

### 实时操作系统

![image-20210725215153565](Images/image-20210725215153565.png)

### 其他操作系统

![image-20210725215207420](Images/image-20210725215207420.png)

## 运行机制

![image-20210725221607325](Images/image-20210725221607325.png)

“指令”是处理器（CPU）能识别、执行的最基本命令

![image-20210725221003958](Images/image-20210725221003958.png)

CPU 有两种状态，“==内核态==”和“==用户态==”

处于内核态时，说明此时正在==运行的是内核程序==，此时==可以执行特权指令== 

处于用户态时，说明此时正在==运行的是应用程序==，此时==只能执行非特权指令==

### 如何判断此时执行的是内核程序还是应用程序

![image-20210725221214594](Images/image-20210725221214594.png)

### 如何切换两种状态

![image-20210725221241393](Images/image-20210725221241393.png)

### 两种指令、状态、程序

![image-20210725221335779](Images/image-20210725221335779.png)

![image-20210725221345179](Images/image-20210725221345179.png)

![image-20210725221353630](Images/image-20210725221353630.png)

### 内核

![image-20210725221517845](Images/image-20210725221517845.png)

> 原语是一种特殊的程序，具有原子性。也就是说这段程序的运行必须一气呵成，不可被中断。

![image-20210725224642273](Images/image-20210725224642273.png)

![image-20210725221535518](Images/image-20210725221535518.png)

## 中断

“中断”是让操作系统内核夺回CPU使用权的唯一途径

![image-20210725222826169](Images/image-20210725222826169.png)



### 中断的分类

![image-20210725222750472](Images/image-20210725222750472.png)

### 中断的基本原理

![image-20210725222810472](Images/image-20210725222810472.png)

## 系统调用

![image-20210725224330486](Images/image-20210725224330486.png)

是操作系统提供给应用程序（程序员/编程人员）使用的接口，可以理解为一种可供应用 程序调用的特殊函数，==应用程序可以通过系统调用来请求获得操作系统内核的服务==

![image-20210725223957367](Images/image-20210725223957367.png)

### 与库函数的区别

库函数中的一些函数涉及系统调用

![image-20210725224039022](Images/image-20210725224039022.png)

### 什么功能需要系统调用

![image-20210725224130669](Images/image-20210725224130669.png)

> 如果没有系统调用的话，各个应用程序都可以同时访问共享资源，会导致一些不希望的后果。
>
> 有了系统调用，这些共享资源就可以由操作系统进行统一调配

### 系统调用的过程

![image-20210725224250493](Images/image-20210725224250493.png)

![image-20210725224312465](Images/image-20210725224312465.png)

## 回顾

![image-20210725225609953](Images/image-20210725225609953.png)