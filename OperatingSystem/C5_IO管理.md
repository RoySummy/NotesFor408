# I/O 管理

## I/O设备的基本概念与分类

![image-20210809120613168](Images/image-20210809120613168.png)

![image-20210809120633469](Images/image-20210809120633469.png)

![image-20210809120645627](Images/image-20210809120645627.png)

![image-20210809120653681](Images/image-20210809120653681.png)

![image-20210809120702079](Images/image-20210809120702079.png)

## I/O控制器

![image-20210809121742945](Images/image-20210809121742945.png)

![image-20210809121755916](Images/image-20210809121755916.png)

![image-20210809121807889](Images/image-20210809121807889.png)

![image-20210809121820108](Images/image-20210809121820108.png)

![image-20210809121827663](Images/image-20210809121827663.png)

![image-20210809121835099](Images/image-20210809121835099.png)

## I/O控制方式

![image-20210809124109012](Images/image-20210809124109012.png)

### 程序直接控制

![image-20210809124134751](Images/image-20210809124134751.png)

![image-20210809124146451](Images/image-20210809124146451.png)

![image-20210809124156184](Images/image-20210809124156184.png)

### 中断驱动方式

![image-20210809124214777](Images/image-20210809124214777.png)

![image-20210809124223205](Images/image-20210809124223205.png)

### DMA

![image-20210809124235957](Images/image-20210809124235957.png)

![image-20210809124244324](Images/image-20210809124244324.png)

![image-20210809124252718](Images/image-20210809124252718.png)

### 通道控制方式

![image-20210809124309566](Images/image-20210809124309566.png)

![image-20210809124317716](Images/image-20210809124317716.png)

## IO软件层次结构

![image-20210809130618906](Images/image-20210809130618906.png)

![image-20210809130648138](Images/image-20210809130648138.png)

### 用户层软件

![image-20210809130703761](Images/image-20210809130703761.png)

### 设备独立性软件

![image-20210809130732840](Images/image-20210809130732840.png)

![image-20210809130748067](Images/image-20210809130748067.png)

![image-20210809130754761](Images/image-20210809130754761.png)

![image-20210809130802756](Images/image-20210809130802756.png)

![image-20210809130810511](Images/image-20210809130810511.png)

![image-20210809130817730](Images/image-20210809130817730.png)

![image-20210809130826675](Images/image-20210809130826675.png)

为什么不同类型IO设备需要不同的驱动程序？

答：设备不同，内部的电子部件（IO控制器）可能也不同，各式各样的参数不统一

### 设备驱动程序

![image-20210809130950315](Images/image-20210809130950315.png)

### 中断处理程序

![image-20210809131007659](Images/image-20210809131007659.png)

## IO核心子系统

![image-20210809143201219](Images/image-20210809143201219.png)

![image-20210809143210389](Images/image-20210809143210389.png)

![image-20210809143218461](Images/image-20210809143218461.png)

## SPOOLing技术

![image-20210809144305950](Images/image-20210809144305950.png)

![image-20210809144327179](Images/image-20210809144327179.png)

![image-20210809144335564](Images/image-20210809144335564.png)

![image-20210809144344645](Images/image-20210809144344645.png)

![image-20210809144403331](Images/image-20210809144403331.png)

![image-20210809144410789](Images/image-20210809144410789.png)

![image-20210809144419625](Images/image-20210809144419625.png)

![image-20210809144448373](Images/image-20210809144448373.png)

## 设备的分配与回收

![image-20210809150006432](Images/image-20210809150006432.png)

### 应该考虑的因素

![image-20210809150102394](Images/image-20210809150102394.png)

![image-20210809150111228](Images/image-20210809150111228.png)

![image-20210809150120570](Images/image-20210809150120570.png)

### 静态分配与动态分配

![image-20210809150133824](Images/image-20210809150133824.png)

### 设备分配管理中的数据结构

![image-20210809150143913](Images/image-20210809150143913.png)

![image-20210809150152563](Images/image-20210809150152563.png)

![image-20210809150159978](Images/image-20210809150159978.png)

![image-20210809150206396](Images/image-20210809150206396.png)

![image-20210809150214057](Images/image-20210809150214057.png)

### 设备分配的步骤

![image-20210809150225286](Images/image-20210809150225286.png)

![image-20210809150239909](Images/image-20210809150239909.png)

![image-20210809150247120](Images/image-20210809150247120.png)

![image-20210809150302972](Images/image-20210809150302972.png)

### 设备分配步骤的改进

![image-20210809150314530](Images/image-20210809150314530.png)

![image-20210809150324670](Images/image-20210809150324670.png)

![image-20210809150333512](Images/image-20210809150333512.png)

## 缓冲区管理

![image-20210809163116029](Images/image-20210809163116029.png)

### 什么是缓冲区

![image-20210809163144942](Images/image-20210809163144942.png)

![image-20210809163158155](Images/image-20210809163158155.png)

### 单缓冲

![image-20210809163218312](Images/image-20210809163218312.png)

![image-20210809163232834](Images/image-20210809163232834.png)

![image-20210809163257609](Images/image-20210809163257609.png)

![image-20210809163306840](Images/image-20210809163306840.png)

### 双缓冲

![image-20210809163320696](Images/image-20210809163320696.png)

![image-20210809163330234](Images/image-20210809163330234.png)

![image-20210809163340725](Images/image-20210809163340725.png)

### 循环缓冲区 

![image-20210809163429304](Images/image-20210809163429304.png)

### 缓冲池

![image-20210809163448769](Images/image-20210809163448769.png)

![image-20210809163459485](Images/image-20210809163459485.png)

![image-20210809163509016](Images/image-20210809163509016.png)

![image-20210809163520966](Images/image-20210809163520966.png)